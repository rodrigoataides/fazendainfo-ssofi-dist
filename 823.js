"use strict";(self.webpackChunkfazendainfossoview=self.webpackChunkfazendainfossoview||[]).push([[823],{9823:(e,t,n)=>{n.r(t);var r=n(9555),o=n(4914),a=n.n(o),i=n(5338),s=n(5072),l=n.n(s),c=n(7825),p=n.n(c),d=n(7659),m=n.n(d),u=n(5056),f=n.n(u),g=n(540),h=n.n(g),b=n(1113),w=n.n(b),y=n(8972),x={};x.styleTagTransform=w(),x.setAttributes=f(),x.insert=m().bind(null,"head"),x.domAPI=p(),x.insertStyleElement=h(),l()(y.A,x),y.A&&y.A.locals&&y.A.locals;var E=n(2816),A=n(2207),C=n.n(A),k=n(5880),v=n(6055),S=n.n(v),F={SSO:"https://sso.fazendainfo.com.br/",BACKENDWS:"https://fazendainfobasews.fazendainfo.com.br/api/"};window.location.hostname.indexOf("fazendainfo.com.br")>-1?(F.SSO="https://sso.fazendainfo.com.br/",F.BACKENDWS="https://fazendainfobasews.fazendainfo.com.br/api/"):(F.SSO="https://ssofi.rdca.com.br/",F.BACKENDWS="https://fazendainfobasews.rdca.com.br/api/",window.location.hostname.indexOf("localhost")>-1&&(F.SSO="http://localhost:3031/",F.BACKENDWS="http://localhost:8000/api/"));var z=function(e){var t={headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Authorization","Access-Control-Allow-Methods":"*","Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}};return"priv"===e?t:{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Authorization","Access-Control-Allow-Methods":"*","Content-Type":"application/json;charset=UTF-8"}}},R=S().create({baseURL:F.BACKENDWS,withCredentials:!0,xsrfCookieName:"csrf-token",xsrfHeaderName:"X-CSRF-TOKEN"}),B=n(6886),I=n(4683),T=n(5417);const O=function(){var e,t,n,i,s=(0,o.useState)(),l=(0,r.A)(s,2),c=l[0],p=l[1],d=(0,o.useState)(),m=(0,r.A)(d,2),u=m[0],f=m[1],g=(0,o.useState)(),h=(0,r.A)(g,2),b=h[0],w=h[1],y={validateToken:(i=(0,E.A)(C().mark((function e(t){var n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.post("/auth/validate",{token:t},z("priv"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)}),signin:(n=(0,E.A)(C().mark((function e(t,n){var r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.post("auth/login",{cpf:t,password:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)}),logout:(t=(0,E.A)(C().mark((function e(t){var n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.post("/auth/logout",{token:t},z("pub"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),subscribe:(e=(0,E.A)(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})},x=(0,o.useState)(!1),A=(0,r.A)(x,2),v=A[0],S=A[1],F=(0,o.useState)(""),O=(0,r.A)(F,2),N=O[0],j=O[1],L=function(){var e=(0,E.A)(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j("Autenticando usuário, aguarde..."),S(!0),!t.cpf||!t.password){e.next=7;break}return e.next=5,y.signin(t.cpf,t.password).then((function(e){null!=e&&e.status?(k.notification.success({message:"Autênticação confirmada!",description:"Seja bem vindo ".concat(e.user.name,"!\nVocê será redirecionado para o sistema, aguarde.")}),window.location.href="".concat(b,"?access_token=").concat(e.token)):k.message.error("Usuário ou senha inválidos!")})).catch((function(e){k.notification.error({message:e.message})}));case 5:e.next=8;break;case 7:k.message.error("Usuário e senha são obrigatórios!");case 8:j(""),S(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){var e=window.location.search,t=new URLSearchParams(e);p(t.get("response_type")),f(t.get("client_id")),w(t.get("redirect_uri"))}),[]),a().createElement(a().Fragment,null,null!=c?a().createElement(k.Spin,{spinning:v,tip:N,style:{fontSize:18,height:"100vh",width:"100vw"}},a().createElement("div",{className:"container"},a().createElement(k.Row,{style:{display:"flex",justifyContent:"center",width:"100%",marginTop:100},align:"middle"},a().createElement(k.Col,{style:{border:"1px solid silver",borderRadius:8,paddingTop:5,backgroundColor:"#82828288"}},a().createElement(k.Row,{style:{width:"100%",marginBottom:"20px",display:"flex",justifyContent:"center",alignItems:"center"}},a().createElement("img",{width:180,src:"/img/LOGO TELA LOGIN.png"})),a().createElement(k.Row,{style:{width:"100%",display:"flex",justifyContent:"center",marginBottom:"20px",color:"#FFF",fontWeight:"600",fontSize:16}},"Login para ",u),a().createElement(k.Row,{style:{width:"100%",display:"flex",justifyContent:"center"}},a().createElement(k.Col,{span:20},a().createElement(k.Form,{name:"formLogin",onFinish:L,initialValues:{remember:!0}},a().createElement(k.Form.Item,{hidden:!0,name:"cliente_id"},a().createElement(k.Input,{value:u})),a().createElement(k.Form.Item,{name:"cpf",rules:[{required:!0,message:"Cpf é obrigatório!"}]},a().createElement(B.MaskedInput,{prefix:a().createElement(I.UserOutlined,null),placeholder:"CPF do usuário",id:"cpf",mask:"000.000.000-00",required:!0})),a().createElement(k.Form.Item,{name:"password",rules:[{required:!0,message:"A senha é obrigatória!"}]},a().createElement(k.Input.Password,{prefix:a().createElement(I.LockOutlined,null),placeholder:"Senha do usuário",iconRender:function(e){return e?a().createElement(I.EyeTwoTone,null):a().createElement(I.EyeInvisibleFilled,null)}})),a().createElement(k.Form.Item,null,a().createElement(k.Button,{style:{width:"100%"},htmlType:"submit",type:"primary"},"Acessar")),a().createElement(k.Form.Item,{style:{width:"100%"}},a().createElement(k.Divider,{style:{marginTop:-10,marginBottom:-10}}),a().createElement(k.Row,{style:{display:"flex",justifyContent:"center"}},a().createElement("a",{className:"login-form-forgot",href:"",style:{color:"#fff",fontSize:12}},"Esqueci minha senha"))))))))),a().createElement(T.wi,{style:{position:"fixed",bottom:-15,right:10,backgroundColor:"transparent",color:"#fff",fontSize:12}},"Fazenda Info ©2021 - Version: ","2.0.0.0")):a().createElement(a().Fragment,null,a().createElement("div",{className:"container"},a().createElement(k.Row,{style:{display:"flex",justifyContent:"center",width:"100%",marginTop:100},align:"middle"},a().createElement(k.Col,{style:{border:"1px solid silver",borderRadius:8,paddingTop:5,backgroundColor:"#82828288"}},a().createElement(k.Row,{style:{width:"100%",marginBottom:"20px",display:"flex",justifyContent:"center",alignItems:"center"}},a().createElement("img",{width:180,src:"/img/LOGO TELA LOGIN.png"})),a().createElement(k.Row,{style:{width:"100%",display:"flex",justifyContent:"center",marginBottom:"5px",color:"#FFF",fontWeight:"600",fontSize:16}},"Tentativa de"),a().createElement(k.Row,{style:{width:"100%",display:"flex",justifyContent:"center",marginBottom:"20px",color:"#FFF",fontWeight:"600",fontSize:16}},"Acesso Indevido"),a().createElement(k.Row,{style:{width:"100%",display:"flex",justifyContent:"center",padding:15,fontSize:14}},a().createElement(k.Col,null,a().createElement(k.Row,null,"Percebemos uma anomalia no seu acesso."),a().createElement(k.Row,null,"Você tentou acessar o SSO diretamente,"),a().createElement(k.Row,null,"e isso não é permitido."))))))),a().createElement(T.wi,{style:{position:"fixed",bottom:-15,right:10,backgroundColor:"transparent",color:"#fff",fontSize:12}},"Fazenda Info ©2021 - Version: ","2.0.0.0"))};var N=n(3464),j={borderRadius:10,colorPrimary:"#0B0B3B"},L=function(){var e=(0,o.useState)(j),t=(0,r.A)(e,2),n=t[0];return t[1],a().createElement(k.ConfigProvider,{locale:N.A,theme:{token:{colorPrimary:n.colorPrimary,borderRadius:n.borderRadius}}},a().createElement(O,null))},U=document.getElementById("app");if(!U)throw new Error("Failed to find the root element");i.createRoot(U).render(a().createElement(L,null))},8972:(e,t,n)=>{n.d(t,{A:()=>m});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a),s=n(4417),l=n.n(s),c=new URL(n(5210),n.b),p=i()(o()),d=l()(c);p.push([e.id,`body {\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  background-image: url(${d});\n  background-position: center;\n  background-size: cover;\n}\n\n.container {\n  margin: auto;\n  max-width: 800px;\n  margin-top: 20px;\n}\n\ncode {\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n    monospace;\n}\n\n.my-select-container .ant-select .ant-select-selector {\n  border-radius: 10px !important;\n}\n\ninput {\n  background: #ffffff27 !important;\n  /*height: 32px !important;*/\n  padding-inline: 5px !important;\n  border-radius: 5px !important;\n}\n\ntextarea {\n  background: #ffffff7a !important;\n}\n\n.ant-input-affix-wrapper{\n  border-radius: 10px !important;\n  background-color: rgba(255, 255, 255, 0.315) !important;\n  padding-inline: 2.5px !important;\n}\n\n.ant-input-group .ant-input-affix-wrapper {\n  border-top-left-radius: 10px !important;\n  border-top-right-radius: 0px !important;\n  border-bottom-left-radius: 10px !important;\n  border-bottom-right-radius: 0px !important;\n}\n\n.ant-input-group .ant-btn {\n  border-top-right-radius: 10px !important;\n  border-top-left-radius: 0px !important;\n  border-bottom-right-radius: 10px !important;\n  border-bottom-left-radius: 0px !important;\n}\n\nlabel {\n  font-size: 12px !important;\n  color: #474747 !important;\n}\n\n.ant-select-selector {\n  background-color: rgba(255, 255, 255, 0.5) !important;\n}\n\n.ant-transfer-list-header {\n  background-color: rgba(255, 255, 255, 0.5) !important;\n}\n\n.ant-card-head {\n  background-color: #0B0B3B !important;\n  color: #fff !important;\n  font-size: 14px !important;\n  font-weight: 500 !important;\n  border-top-left-radius: 6px !important;\n  border-top-right-radius: 6px !important;\n  min-height: 30px !important;\n}\n\n.ant-card-head-title {\n  padding: 2.5px 0 !important;\n}\n\n.ant-table-body {\n  background-color: transparent !important;\n}\n\n.ant-table-cell {\n  background-color: transparent !important;\n}\n`,""]);const m=p},5210:(e,t,n)=>{e.exports=n.p+"83ec2e4c8aeb499a752b.png"}}]);